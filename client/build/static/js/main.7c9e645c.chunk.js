(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{520:function(e,a,t){e.exports=t(975)},525:function(e,a,t){},975:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(40),l=t.n(n),o=(t(525),t(1010)),s=t(1009),i=t(490),m=t.n(i),u=t(488),d=t.n(u),E=t(489),b=t.n(E),p=t(491),g=t.n(p),f=t(492),h=t.n(f),v=t(493),O=t.n(v),j=t(494),w=t.n(j),k=t(495),y=t(76),P=t(14),C="http://18.194.127.99:3001",A=function(e,a,t){var r="",c=localStorage.getItem("token"),n={headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:c})};switch(e){case P.d:var l=t.pagination,o=l.page,s=l.perPage,i=t.sort,m=i.field,u=i.order,d={page:o,limit:s,query:t.filter.query,order:u,sortField:m};console.log(t),r="".concat(C,"/").concat(a,"?").concat(Object(y.stringify)(d));break;case P.e:console.log("many"),console.log(t),r="".concat(C,"/").concat(a);break;case P.f:console.log("refre"),console.log(t),r="parentId"==t.target?"".concat(C,"/").concat(a,"?parentId=").concat(t.id):"".concat(C,"/").concat(a,"?postId=").concat(t.id);break;case P.g:r="".concat(C,"/").concat(a,"/getOne/").concat(t.id);break;case P.a:switch(a){case"posts":var E=t.data,b=E.title,p=E.body,g=E.files,f=E.categories,h=E.tags,v=E.source,O=new FormData;if(O.append("title",b),O.append("body",p),O.append("source",v),f)for(var j=0;j<f.length;j++)O.append("categories",f[j]);if(h)for(var w=0;w<h.length;w++)O.append("tags",h[w]);g&&O.append("files",g.rawFile),r="".concat(C,"/").concat(a,"/new"),n.headers.delete("Content-Type"),n.method="POST",n.body=O;break;case"uploads":var A=t.data.files,I=new FormData;A&&I.append("files",A.rawFile),r="".concat(C,"/").concat(a,"/new"),n.headers.delete("Content-Type"),n.method="POST",n.body=I;break;case"categories":case"sources":var T=t.data,S=T.name,F=T.files,N=new FormData;N.append("name",S),F&&N.append("files",F.rawFile),r="".concat(C,"/").concat(a,"/new"),n.headers.delete("Content-Type"),n.method="POST",n.body=N;break;default:r="".concat(C,"/").concat(a,"/new"),n.method="POST",n.body=JSON.stringify(t.data)}break;case P.h:if("posts"===a){var B=t.data,q=B.title,D=B.body,U=B.files,J=B.categories,x=B.tags,H=B.source,z=new FormData;if(z.append("title",q),z.append("body",D),z.append("source",H),J)for(var R=0;R<J.length;R++)z.append("categories",J[R]);if(x)for(var W=0;W<x.length;W++)z.append("tags",x[W]);U&&z.append("files",U.rawFile),r="".concat(C,"/").concat(a,"/update/").concat(t.id),n.headers.delete("Content-Type"),n.method="PUT",n.body=z}else if("categories"===a||"sources"===a){var L=t.data,V=L.name,$=L.files,G=new FormData;G.append("name",V),$&&G.append("files",$.rawFile),r="".concat(C,"/").concat(a,"/update/").concat(t.id),n.headers.delete("Content-Type"),n.method="PUT",n.body=G}else r="".concat(C,"/").concat(a,"/update/").concat(t.id),"users"===a&&(r="".concat(C,"/").concat(a,"/promote/").concat(t.id)),n.method="PUT",n.body=JSON.stringify(t.data);break;case P.b:r="".concat(C,"/").concat(a,"/delete/").concat(t.id),n.method="DELETE";break;default:throw new Error("Unsupported Data Provider request type ".concat(e))}return fetch(r,n).then(function(e){return e.json()}).then(function(a){switch(e){case P.d:case P.f:return console.log(a),{data:a.data,total:a.count};case P.a:return console.log(a),{data:Object(k.a)({},t.data,{id:a.data.id})};case P.g:case P.h:return console.log(a),{data:a.data};case P.b:return console.log(a),a;default:return{data:a.data}}})},I=t(221),T=function(e,a){if(e===I.d){var t=a.username,r=a.password,c=new Request("".concat("http://18.194.127.99:3001","/auth/login/admin"),{method:"POST",body:JSON.stringify({email:t,password:r}),headers:new Headers({"Content-Type":"application/json"})});return fetch(c).then(function(e){if(e.status<200||e.status>=300)throw new Error("invalid email / password");return e.json()}).then(function(e){var a=e.data,t=e.token;localStorage.setItem("token",t),localStorage.setItem("role",a.role)})}if(e===I.e)return localStorage.removeItem("token"),localStorage.removeItem("role"),Promise.resolve();if(e===I.a)return localStorage.getItem("token")?Promise.resolve():Promise.reject();if(e===I.c){var n=localStorage.getItem("role");return n?Promise.resolve(n):Promise.reject()}return e===I.b?(localStorage.removeItem("token"),Promise.reject()):void 0},S=t(1011),F=t(1012),N=t(993),B=t(994),q=t(995),D=t(1020),U=t(997),J=t(991),x=t(998),H=t(999),z=t(1e3),R=t(1014),W=t(1003),L=t(1013),V=t(992),$=function(e){return c.a.createElement(L.a,e,c.a.createElement(J.a,{label:"Search",source:"query",alwaysOn:!0}),c.a.createElement(V.a,{optionText:"name"}))},G=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"name"}),c.a.createElement(B.a,{source:"createdAt"}),c.a.createElement(B.a,{source:"updatedAt"}),c.a.createElement(q.a,{basePath:"/categories"})))},K=function(e){var a=e.record;return c.a.createElement("span",null,"Category ",a?'"'.concat(a.name,'"'):"")},M=function(e){return c.a.createElement(D.a,Object.assign({title:"Create a Category"},e),c.a.createElement(U.a,null,c.a.createElement(J.a,{source:"name",validate:Object(x.a)()}),c.a.createElement(H.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(x.a)()},c.a.createElement(z.a,{source:"src",title:"title"}))))},Q=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(K,null)},e),c.a.createElement(U.a,null,c.a.createElement(W.a,{source:"id"}),c.a.createElement(J.a,{source:"name"}),c.a.createElement(z.a,{source:"backgroundImage",title:"backgroundImage"}),c.a.createElement(H.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(x.a)()},c.a.createElement(z.a,{source:"src",title:"title"}))))},X=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"name"}),c.a.createElement(B.a,{source:"createdAt"}),c.a.createElement(B.a,{source:"updatedAt"}),c.a.createElement(q.a,{basePath:"/hashTags"})))},Y=function(e){var a=e.record;return c.a.createElement("span",null,"HashTag ",a?'"'.concat(a.name,'"'):"")},Z=function(e){return c.a.createElement(D.a,Object.assign({title:"Create a HashTag"},e),c.a.createElement(U.a,null,c.a.createElement(J.a,{source:"name",validate:Object(x.a)()})))},_=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(Y,null)},e),c.a.createElement(U.a,null,c.a.createElement(W.a,{source:"id"}),c.a.createElement(J.a,{source:"name"})))},ee=t(1004),ae=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"fullName"}),c.a.createElement(ee.a,{source:"email"}),c.a.createElement(N.a,{source:"number"}),c.a.createElement(N.a,{source:"role"}),c.a.createElement(B.a,{source:"createdAt"}),c.a.createElement(B.a,{source:"updatedAt"}),c.a.createElement(q.a,{basePath:"/users"})))},te=function(e){var a=e.record;return c.a.createElement("span",null,"User ",a?'"'.concat(a.fullName,'"'):"")},re=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(te,null)},e),c.a.createElement(U.a,null,c.a.createElement(W.a,{source:"id"}),c.a.createElement(W.a,{source:"fullName"}),c.a.createElement(W.a,{source:"email"}),c.a.createElement(W.a,{source:"number"}),c.a.createElement(V.a,{source:"role",choices:[{id:"admin",name:"admin"},{id:"maintainer",name:"maintainer"},{id:"user",name:"user"}]})))},ce=t(242),ne=t.n(ce),le=t(186),oe=t(41),se=t(1019),ie=t(1005),me=t(1006),ue=t(1018),de=t(1017),Ee=t(1007),be=t(1021),pe=t(1016),ge=t(329),fe=function(e){var a=e.record;return c.a.createElement(oe.a,{component:le.a,to:"/comments/create?postId=".concat(a.id),label:"Add a comment"},c.a.createElement(ne.a,null))},he=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"title",sortable:!1}),c.a.createElement(N.a,{source:"reactionsCount"}),c.a.createElement(B.a,{source:"createdAt",sortable:!1}),c.a.createElement(B.a,{source:"updatedAt",sortable:!1}),c.a.createElement(q.a,{basePath:"/posts"})))},ve=function(e){var a=e.record;return c.a.createElement("span",null,"Post ",a?'"'.concat(a.title,'"'):"")},Oe=function(e){return c.a.createElement(D.a,Object.assign({title:"Create a Post"},e),c.a.createElement(U.a,null,c.a.createElement(J.a,{source:"title",validate:Object(x.a)()}),c.a.createElement(ge.a,{source:"body",toolbar:[[{size:["small",!1,"large","huge"]}],[{font:[]}],[{direction:"rtl"}],[{align:[]}],["bold","italic","underline","link","blockquote","image","video"]]}),c.a.createElement(H.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(x.a)()},c.a.createElement(z.a,{source:"src",title:"title"})),c.a.createElement(se.a,{label:"categories",reference:"categories",source:"categories",perPage:100,validate:Object(x.a)()},c.a.createElement(ie.a,null,c.a.createElement(me.a,{source:"name"}))),c.a.createElement(se.a,{label:"tags",reference:"hashTags",source:"tags",perPage:100,validate:Object(x.a)()},c.a.createElement(ie.a,null,c.a.createElement(me.a,{source:"name"}))),c.a.createElement(ue.a,{label:"source",source:"source",reference:"sources",validate:Object(x.a)()},c.a.createElement(V.a,{optionText:"name"}))))},je=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(ve,null)},e),c.a.createElement(de.a,null,c.a.createElement(Ee.a,{label:"update"},c.a.createElement(W.a,{source:"id"}),c.a.createElement(W.a,{source:"reactionsCount"}),c.a.createElement(J.a,{source:"title"}),c.a.createElement(ge.a,{source:"body",toolbar:[[{size:["small",!1,"large","huge"]}],[{font:[]}],[{direction:"rtl"}],[{align:[]}],["bold","italic","underline","link","blockquote","image","video"]]}),c.a.createElement(se.a,{label:"categories",reference:"categories",source:"categories",perPage:100,validate:Object(x.a)()},c.a.createElement(ie.a,{source:"name"},c.a.createElement(me.a,{source:"name"}))),c.a.createElement(se.a,{label:"tags",reference:"hashTags",source:"tags",perPage:100,validate:Object(x.a)()},c.a.createElement(ie.a,{source:"name"},c.a.createElement(me.a,{source:"name"}))),c.a.createElement(ue.a,{label:"source",source:"source.id",reference:"sources"},c.a.createElement(V.a,{optionText:"name"})),c.a.createElement(z.a,{source:"backgroundImage",title:"backgroundImage"}),c.a.createElement(H.a,{source:"files",label:"Background image",accept:"image/*"},c.a.createElement(z.a,{source:"src",title:"title"}))),c.a.createElement(Ee.a,{label:"Comments"},c.a.createElement(be.a,{label:"Comments",reference:"comments",target:"post.id"},c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"body",sortable:!1}),c.a.createElement(pe.a,{label:"Author Name",source:"user.id",reference:"users",sortable:!1},c.a.createElement(me.a,{source:"fullName"})),c.a.createElement(pe.a,{label:"Author Email",source:"user.id",reference:"users",sortable:!1},c.a.createElement(me.a,{source:"email"})),c.a.createElement(pe.a,{label:"Post",source:"post.id",reference:"posts",sortable:!1},c.a.createElement(me.a,{source:"id"})),c.a.createElement(N.a,{source:"reports",sortable:!1}),c.a.createElement(B.a,{source:"createdAt",sortable:!1}),c.a.createElement(B.a,{source:"updatedAt",sortable:!1}),c.a.createElement(q.a,{basePath:"/comments"}))),c.a.createElement(fe,null))))},we=function(e){var a=e.record;return c.a.createElement(oe.a,{component:le.a,to:"/comments/create?parentId=".concat(a.id,"&postId=").concat(a.post.id),label:"Add a Reply"},c.a.createElement(ne.a,null))},ke=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"body",sortable:!1}),c.a.createElement(pe.a,{label:"Post",source:"post.id",reference:"posts",sortable:!1},c.a.createElement(me.a,{source:"id"})),c.a.createElement(N.a,{source:"reports"}),c.a.createElement(B.a,{source:"createdAt",sortable:!1}),c.a.createElement(B.a,{source:"updatedAt",sortable:!1})))},ye=function(e){var a=e.record;return c.a.createElement("span",null,"Comment ",a?'"'.concat(a.body,'"'):"")},Pe=function(e){var a=Object(y.parse)(e.location.search).postId,t=Object(y.parse)(e.location.search).parentId||null;return c.a.createElement(D.a,Object.assign({title:"Create a Comment"},e),c.a.createElement(U.a,{defaultValue:{postId:a,parentId:t},redirect:"/posts/".concat(a,"/2")},c.a.createElement(W.a,{source:"postId"}),c.a.createElement(W.a,{source:"parentId"}),c.a.createElement(J.a,{source:"body"})))},Ce=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(ye,null)},e),c.a.createElement(de.a,null,c.a.createElement(Ee.a,{label:"summary"},c.a.createElement(W.a,{source:"id"}),c.a.createElement(W.a,{source:"body"})),c.a.createElement(Ee.a,{label:"replies"},c.a.createElement(be.a,{label:"replies",reference:"comments",target:"parentId"},c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"body",sortable:!1}),c.a.createElement(pe.a,{label:"Author Name",source:"user.id",reference:"users",sortable:!1},c.a.createElement(me.a,{source:"fullName"})),c.a.createElement(pe.a,{label:"Author Email",source:"user.id",reference:"users",sortable:!1},c.a.createElement(me.a,{source:"email"})),c.a.createElement(pe.a,{label:"Post",source:"post.id",reference:"posts",sortable:!1},c.a.createElement(me.a,{source:"id"})),c.a.createElement(N.a,{source:"reports",sortable:!1}),c.a.createElement(B.a,{source:"createdAt",sortable:!1}),c.a.createElement(B.a,{source:"updatedAt",sortable:!1}),c.a.createElement(q.a,{basePath:"/comments"}))),c.a.createElement(we,null))))},Ae=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"name"}),c.a.createElement(B.a,{source:"createdAt"}),c.a.createElement(B.a,{source:"updatedAt"}),c.a.createElement(q.a,{basePath:"/sources"})))},Ie=function(e){var a=e.record;return c.a.createElement("span",null,"Source ",a?'"'.concat(a.name,'"'):"")},Te=function(e){return c.a.createElement(D.a,Object.assign({title:"Create a Source"},e),c.a.createElement(U.a,null,c.a.createElement(J.a,{source:"name",validate:Object(x.a)()}),c.a.createElement(H.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(x.a)()},c.a.createElement(z.a,{source:"src",title:"title"}))))},Se=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(Ie,null)},e),c.a.createElement(U.a,null,c.a.createElement(W.a,{source:"id"}),c.a.createElement(J.a,{source:"name"}),c.a.createElement(z.a,{source:"backgroundImage",title:"backgroundImage"}),c.a.createElement(H.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(x.a)()},c.a.createElement(z.a,{source:"src",title:"title"}))))},Fe=t(1008),Ne=t(330),Be=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,{rowClick:"edit"},c.a.createElement(N.a,{source:"id"}),c.a.createElement(Fe.a,{source:"url"}),c.a.createElement(B.a,{source:"createdAt"}),c.a.createElement(B.a,{source:"updatedAt"}),c.a.createElement(q.a,{basePath:"/uploads"})))},qe=function(e){var a=e.record;return c.a.createElement("span",null,"Uploader ",a?'"'.concat(a.url,'"'):"")},De=function(e){return c.a.createElement(D.a,Object.assign({title:"Create a Uploader"},e),c.a.createElement(U.a,null,c.a.createElement(Ne.b,{source:"files",label:"upload video",accept:"video/*",validate:Object(x.a)()},c.a.createElement(Fe.a,{source:"src"}))))},Ue=function(e){return c.a.createElement(R.a,Object.assign({title:c.a.createElement(qe,null)},e),c.a.createElement(U.a,null,c.a.createElement(W.a,{source:"id"}),c.a.createElement(J.a,{source:"url"})))},Je=function(e){return c.a.createElement(S.a,Object.assign({filters:c.a.createElement($,null)},e),c.a.createElement(F.a,null,c.a.createElement(N.a,{source:"id"}),c.a.createElement(N.a,{source:"title",sortable:!1}),c.a.createElement(N.a,{source:"body",sortable:!1}),c.a.createElement(B.a,{source:"createdAt",sortable:!1}),c.a.createElement(B.a,{source:"updatedAt",sortable:!1})))},xe=function(e){return c.a.createElement(D.a,Object.assign({title:"Create a Notification"},e),c.a.createElement(U.a,null,c.a.createElement(J.a,{source:"title",validate:Object(x.a)()}),c.a.createElement(J.a,{source:"body",validate:Object(x.a)()}),c.a.createElement(se.a,{label:"categories",reference:"categories",source:"categories",perPage:100,validate:Object(x.a)()},c.a.createElement(ie.a,null,c.a.createElement(me.a,{source:"name"})))))},He=function(){return c.a.createElement(o.a,{authProvider:T,dataProvider:A},function(e){return["admin"===e?c.a.createElement(s.a,{name:"users",list:ae,edit:re,icon:d.a}):null,c.a.createElement(s.a,{name:"categories",list:G,create:M,edit:Q}),c.a.createElement(s.a,{name:"hashTags",list:X,create:Z,edit:_,icon:b.a}),c.a.createElement(s.a,{name:"posts",list:he,create:Oe,edit:je,icon:m.a}),c.a.createElement(s.a,{name:"comments",list:ke,create:Pe,edit:Ce,icon:g.a}),c.a.createElement(s.a,{name:"sources",list:Ae,create:Te,edit:Se,icon:h.a}),c.a.createElement(s.a,{name:"uploads",list:Be,create:De,edit:Ue,icon:O.a}),c.a.createElement(s.a,{name:"notifications",list:Je,create:xe,icon:w.a})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[520,1,2]]]);
//# sourceMappingURL=main.7c9e645c.chunk.js.map