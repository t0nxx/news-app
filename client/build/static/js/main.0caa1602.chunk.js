(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{516:function(e,a,t){e.exports=t(971)},521:function(e,a,t){},971:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(42),l=t.n(c),o=(t(521),t(1009)),s=t(1008),m=t(488),i=t.n(m),u=t(486),d=t.n(u),E=t(487),b=t.n(E),p=t(489),g=t.n(p),f=t(250),h=t.n(f),v=t(490),w=t.n(v),O=t(491),j=t(74),y=t(14),k="http://18.194.127.99:3001",P=function(e,a,t){var r="",n=localStorage.getItem("token"),c={headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:n})};switch(e){case y.d:var l=t.pagination,o=l.page,s=l.perPage,m=t.sort,i=m.field,u=m.order,d={page:o,limit:s,query:t.filter.query,order:u,sortField:i};console.log(t),r="".concat(k,"/").concat(a,"?").concat(Object(j.stringify)(d));break;case y.e:console.log("many"),console.log(t),r="".concat(k,"/").concat(a);break;case y.f:console.log("refre"),console.log(t),r="parentId"==t.target?"".concat(k,"/").concat(a,"?parentId=").concat(t.id):"".concat(k,"/").concat(a,"?postId=").concat(t.id);break;case y.g:r="".concat(k,"/").concat(a,"/getOne/").concat(t.id);break;case y.a:switch(a){case"posts":var E=t.data,b=E.title,p=E.body,g=E.files,f=E.categories,h=E.tags,v=new FormData;if(v.append("title",b),v.append("body",p),f)for(var w=0;w<f.length;w++)v.append("categories",f[w]);if(h)for(var P=0;P<h.length;P++)v.append("tags",h[P]);g&&v.append("files",g.rawFile),r="".concat(k,"/").concat(a,"/new"),c.headers.delete("Content-Type"),c.method="POST",c.body=v;break;case"uploads":var C=t.data.files,I=new FormData;C&&I.append("files",C.rawFile),r="".concat(k,"/").concat(a,"/new"),c.headers.delete("Content-Type"),c.method="POST",c.body=I;break;case"categories":var A=t.data,T=A.name,S=A.files,N=new FormData;N.append("name",T),S&&N.append("files",S.rawFile),r="".concat(k,"/").concat(a,"/new"),c.headers.delete("Content-Type"),c.method="POST",c.body=N;break;default:r="".concat(k,"/").concat(a,"/new"),c.method="POST",c.body=JSON.stringify(t.data)}break;case y.h:r="".concat(k,"/").concat(a,"/update/").concat(t.id),"users"===a&&(r="".concat(k,"/").concat(a,"/promote/").concat(t.id)),c.method="PUT",c.body=JSON.stringify(t.data);break;case y.b:r="".concat(k,"/").concat(a,"/delete/").concat(t.id),c.method="DELETE";break;default:throw new Error("Unsupported Data Provider request type ".concat(e))}return fetch(r,c).then(function(e){return e.json()}).then(function(a){switch(e){case y.d:case y.f:return console.log(a),{data:a.data,total:a.count};case y.a:return console.log(a),{data:Object(O.a)({},t.data,{id:a.data.id})};case y.g:case y.h:return console.log(a),{data:a.data};case y.b:return console.log(a),a;default:return{data:a.data}}})},C=t(220),I=function(e,a){if(e===C.d){var t=a.username,r=a.password,n=new Request("".concat("http://18.194.127.99:3001","/auth/login/admin"),{method:"POST",body:JSON.stringify({email:t,password:r}),headers:new Headers({"Content-Type":"application/json"})});return fetch(n).then(function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()}).then(function(e){var a=e.data,t=e.token;localStorage.setItem("token",t),localStorage.setItem("role",a.role)})}if(e===C.e)return localStorage.removeItem("token"),localStorage.removeItem("role"),Promise.resolve();if(e===C.a)return localStorage.getItem("token")?Promise.resolve():Promise.reject();if(e===C.c){var c=localStorage.getItem("role");return c?Promise.resolve(c):Promise.reject()}return e===C.b?(localStorage.removeItem("token"),Promise.reject()):void 0},A=t(1010),T=t(1011),S=t(988),N=t(989),q=t(990),F=t(1017),D=t(992),J=t(985),U=t(993),B=t(994),H=t(995),x=t(1013),z=t(998),R=t(1012),W=t(986),L=function(e){return n.a.createElement(R.a,e,n.a.createElement(J.a,{label:"Search",source:"query",alwaysOn:!0}),n.a.createElement(W.a,{optionText:"name"}))},V=function(e){return n.a.createElement(A.a,Object.assign({filters:n.a.createElement(L,null)},e),n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"name"}),n.a.createElement(N.a,{source:"createdAt"}),n.a.createElement(N.a,{source:"updatedAt"}),n.a.createElement(q.a,{basePath:"/categories"})))},$=function(e){var a=e.record;return n.a.createElement("span",null,"Category ",a?'"'.concat(a.name,'"'):"")},G=function(e){return n.a.createElement(F.a,Object.assign({title:"Create a Category"},e),n.a.createElement(D.a,null,n.a.createElement(J.a,{source:"name",validate:Object(U.a)()}),n.a.createElement(B.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(U.a)()},n.a.createElement(H.a,{source:"src",title:"title"}))))},K=function(e){return n.a.createElement(x.a,Object.assign({title:n.a.createElement($,null)},e),n.a.createElement(D.a,null,n.a.createElement(z.a,{source:"id"}),n.a.createElement(J.a,{source:"name"}),n.a.createElement(H.a,{source:"backgroundImage",title:"backgroundImage"})))},M=function(e){return n.a.createElement(A.a,Object.assign({filters:n.a.createElement(L,null)},e),n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"name"}),n.a.createElement(N.a,{source:"createdAt"}),n.a.createElement(N.a,{source:"updatedAt"}),n.a.createElement(q.a,{basePath:"/hashTags"})))},Q=function(e){var a=e.record;return n.a.createElement("span",null,"HashTag ",a?'"'.concat(a.name,'"'):"")},X=function(e){return n.a.createElement(F.a,Object.assign({title:"Create a HashTag"},e),n.a.createElement(D.a,null,n.a.createElement(J.a,{source:"name",validate:Object(U.a)()})))},Y=function(e){return n.a.createElement(x.a,Object.assign({title:n.a.createElement(Q,null)},e),n.a.createElement(D.a,null,n.a.createElement(z.a,{source:"id"}),n.a.createElement(J.a,{source:"name"})))},Z=t(999),_=function(e){return n.a.createElement(A.a,Object.assign({filters:n.a.createElement(L,null)},e),n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"fullName"}),n.a.createElement(Z.a,{source:"email"}),n.a.createElement(S.a,{source:"number"}),n.a.createElement(S.a,{source:"role"}),n.a.createElement(N.a,{source:"createdAt"}),n.a.createElement(N.a,{source:"updatedAt"}),n.a.createElement(q.a,{basePath:"/users"})))},ee=function(e){var a=e.record;return n.a.createElement("span",null,"User ",a?'"'.concat(a.fullName,'"'):"")},ae=function(e){return n.a.createElement(x.a,Object.assign({title:n.a.createElement(ee,null)},e),n.a.createElement(D.a,null,n.a.createElement(z.a,{source:"id"}),n.a.createElement(z.a,{source:"fullName"}),n.a.createElement(z.a,{source:"email"}),n.a.createElement(z.a,{source:"number"}),n.a.createElement(W.a,{source:"role",choices:[{id:"admin",name:"admin"},{id:"maintainer",name:"maintainer"},{id:"user",name:"user"}]})))},te=t(242),re=t.n(te),ne=t(163),ce=t(43),le=t(1014),oe=t(1001),se=t(1002),me=t(1018),ie=t(1003),ue=t(1004),de=t(1005),Ee=t(1006),be=t(1019),pe=t(1016),ge=t(328),fe=function(e){var a=e.record;return n.a.createElement(ce.a,{component:ne.a,to:"/comments/create?postId=".concat(a.id),label:"Add a comment"},n.a.createElement(re.a,null))},he=function(e){return n.a.createElement(A.a,Object.assign({filters:n.a.createElement(L,null)},e),n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"title",sortable:!1}),n.a.createElement(S.a,{source:"reactionsCount"}),n.a.createElement(N.a,{source:"createdAt",sortable:!1}),n.a.createElement(N.a,{source:"updatedAt",sortable:!1}),n.a.createElement(q.a,{basePath:"/posts"})))},ve=function(e){var a=e.record;return n.a.createElement("span",null,"Post ",a?'"'.concat(a.title,'"'):"")},we=function(e){return n.a.createElement(F.a,Object.assign({title:"Create a Post"},e),n.a.createElement(D.a,null,n.a.createElement(J.a,{source:"title",validate:Object(U.a)()}),n.a.createElement(ge.a,{source:"body",toolbar:[[{size:["small",!1,"large","huge"]}],[{font:[]}],[{direction:"rtl"}],[{align:[]}],["bold","italic","underline","link","blockquote","image","video"]]}),n.a.createElement(B.a,{source:"files",label:"Background image",accept:"image/*",validate:Object(U.a)()},n.a.createElement(H.a,{source:"src",title:"title"})),n.a.createElement(le.a,{label:"categories",reference:"categories",source:"categories",perPage:100,validate:Object(U.a)()},n.a.createElement(oe.a,null,n.a.createElement(se.a,{source:"name"}))),n.a.createElement(le.a,{label:"tags",reference:"hashTags",source:"tags",perPage:100,validate:Object(U.a)()},n.a.createElement(oe.a,null,n.a.createElement(se.a,{source:"name"})))))},Oe=function(e){return n.a.createElement(x.a,Object.assign({title:n.a.createElement(ve,null)},e),n.a.createElement(me.a,null,n.a.createElement(ie.a,{label:"summary"},n.a.createElement(z.a,{source:"id"}),n.a.createElement(z.a,{source:"title"}),n.a.createElement(z.a,{source:"reactionsCount"}),n.a.createElement(ue.a,{source:"body"}),n.a.createElement(H.a,{source:"backgroundImage",title:"backgroundImage"}),n.a.createElement(de.a,{source:"categories"},n.a.createElement(Ee.a,null,n.a.createElement(se.a,{source:"name"}))),n.a.createElement(de.a,{source:"tags"},n.a.createElement(Ee.a,null,n.a.createElement(se.a,{source:"name"})))),n.a.createElement(ie.a,{label:"update"},n.a.createElement(J.a,{source:"title"}),n.a.createElement(ge.a,{source:"body",toolbar:[[{size:["small",!1,"large","huge"]}],[{font:[]}],[{direction:"rtl"}],[{align:[]}],["bold","italic","underline","link","blockquote","image","video"]]}),n.a.createElement(le.a,{label:"categories",reference:"categories",source:"categories",perPage:100,validate:Object(U.a)()},n.a.createElement(oe.a,{source:"name"},n.a.createElement(se.a,{source:"name"}))),n.a.createElement(le.a,{label:"tags",reference:"hashTags",source:"tags",perPage:100,validate:Object(U.a)()},n.a.createElement(oe.a,null,n.a.createElement(se.a,{source:"name"})))),n.a.createElement(ie.a,{label:"Comments"},n.a.createElement(be.a,{label:"Comments",reference:"comments",target:"post.id"},n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"body",sortable:!1}),n.a.createElement(pe.a,{label:"Author Name",source:"user.id",reference:"users",sortable:!1},n.a.createElement(se.a,{source:"fullName"})),n.a.createElement(pe.a,{label:"Author Email",source:"user.id",reference:"users",sortable:!1},n.a.createElement(se.a,{source:"email"})),n.a.createElement(pe.a,{label:"Post",source:"post.id",reference:"posts",sortable:!1},n.a.createElement(se.a,{source:"id"})),n.a.createElement(S.a,{source:"reports",sortable:!1}),n.a.createElement(N.a,{source:"createdAt",sortable:!1}),n.a.createElement(N.a,{source:"updatedAt",sortable:!1}),n.a.createElement(q.a,{basePath:"/comments"}))),n.a.createElement(fe,null))))},je=function(e){var a=e.record;return n.a.createElement(ce.a,{component:ne.a,to:"/comments/create?parentId=".concat(a.id,"&postId=").concat(a.post.id),label:"Add a Reply"},n.a.createElement(re.a,null))},ye=function(e){return n.a.createElement(A.a,Object.assign({filters:n.a.createElement(L,null)},e),n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"body",sortable:!1}),n.a.createElement(pe.a,{label:"Post",source:"post.id",reference:"posts",sortable:!1},n.a.createElement(se.a,{source:"id"})),n.a.createElement(S.a,{source:"reports"}),n.a.createElement(N.a,{source:"createdAt",sortable:!1}),n.a.createElement(N.a,{source:"updatedAt",sortable:!1})))},ke=function(e){var a=e.record;return n.a.createElement("span",null,"Comment ",a?'"'.concat(a.body,'"'):"")},Pe=function(e){var a=Object(j.parse)(e.location.search).postId,t=Object(j.parse)(e.location.search).parentId||null;return n.a.createElement(F.a,Object.assign({title:"Create a Comment"},e),n.a.createElement(D.a,{defaultValue:{postId:a,parentId:t},redirect:"/posts/".concat(a,"/2")},n.a.createElement(z.a,{source:"postId"}),n.a.createElement(z.a,{source:"parentId"}),n.a.createElement(J.a,{source:"body"})))},Ce=function(e){return n.a.createElement(x.a,Object.assign({title:n.a.createElement(ke,null)},e),n.a.createElement(me.a,null,n.a.createElement(ie.a,{label:"summary"},n.a.createElement(z.a,{source:"id"}),n.a.createElement(z.a,{source:"body"})),n.a.createElement(ie.a,{label:"replies"},n.a.createElement(be.a,{label:"replies",reference:"comments",target:"parentId"},n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(S.a,{source:"body",sortable:!1}),n.a.createElement(pe.a,{label:"Author Name",source:"user.id",reference:"users",sortable:!1},n.a.createElement(se.a,{source:"fullName"})),n.a.createElement(pe.a,{label:"Author Email",source:"user.id",reference:"users",sortable:!1},n.a.createElement(se.a,{source:"email"})),n.a.createElement(pe.a,{label:"Post",source:"post.id",reference:"posts",sortable:!1},n.a.createElement(se.a,{source:"id"})),n.a.createElement(S.a,{source:"reports",sortable:!1}),n.a.createElement(N.a,{source:"createdAt",sortable:!1}),n.a.createElement(N.a,{source:"updatedAt",sortable:!1}),n.a.createElement(q.a,{basePath:"/comments"}))),n.a.createElement(je,null))))},Ie=t(1007),Ae=t(329),Te=function(e){return n.a.createElement(A.a,Object.assign({filters:n.a.createElement(L,null)},e),n.a.createElement(T.a,{rowClick:"edit"},n.a.createElement(S.a,{source:"id"}),n.a.createElement(Ie.a,{source:"url"}),n.a.createElement(N.a,{source:"createdAt"}),n.a.createElement(N.a,{source:"updatedAt"}),n.a.createElement(q.a,{basePath:"/uploads"})))},Se=function(e){var a=e.record;return n.a.createElement("span",null,"Uploader ",a?'"'.concat(a.url,'"'):"")},Ne=function(e){return n.a.createElement(F.a,Object.assign({title:"Create a Uploader"},e),n.a.createElement(D.a,null,n.a.createElement(Ae.b,{source:"files",label:"upload video",accept:"video/*",validate:Object(U.a)()},n.a.createElement(Ie.a,{source:"src"}))))},qe=function(e){return n.a.createElement(x.a,Object.assign({title:n.a.createElement(Se,null)},e),n.a.createElement(D.a,null,n.a.createElement(z.a,{source:"id"}),n.a.createElement(J.a,{source:"url"})))},Fe=function(){return n.a.createElement(o.a,{authProvider:I,dataProvider:P},function(e){return["admin"===e?n.a.createElement(s.a,{name:"users",list:_,edit:ae,icon:d.a}):null,n.a.createElement(s.a,{name:"categories",list:V,create:G,edit:K}),n.a.createElement(s.a,{name:"hashTags",list:M,create:X,edit:Y,icon:b.a}),n.a.createElement(s.a,{name:"posts",list:he,create:we,edit:Oe,icon:i.a}),n.a.createElement(s.a,{name:"comments",list:ye,create:Pe,edit:Ce,icon:g.a}),n.a.createElement(s.a,{name:"uploads",list:Te,create:Ne,edit:qe,icon:w.a}),n.a.createElement(s.a,{name:"reports",icon:h.a})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[516,1,2]]]);
//# sourceMappingURL=main.0caa1602.chunk.js.map